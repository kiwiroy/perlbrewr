---
output: github_document
params:
  root: !r Sys.getenv("PERLBREW_ROOT")
  home: !r Sys.getenv("PERLBREW_HOME")
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
Sys.setenv("PERLBREW_ROOT"=params$root)
Sys.setenv("PERLBREW_HOME"=params$home)
Sys.setenv("perlbrew_command"=file.path(params$root, "bin", "perlbrew"))
```
# perlbrewr

The goal of perlbrewr is to assist the loading of a [perlbrew](https://perlbrew.pl) perl and optionally a library with the aim
of improving reproducibility.

## Installation

You can install the released version of perlbrewr from [GitHub](https://github.com/kiwiroy/perlbrewr) with:

``` r
devtools::install_github("kiwiroy/perlbrewr")
```

## Example

This is a basic example of usage to load a perlbrew environment:

```{r example}
library(perlbrewr)
result <- perlbrew(root = Sys.getenv("PERLBREW_ROOT"), version = "5.26.0")
```

The brewed version of perl is now the default.
```{r perlversion}
Sys.which("perl")
```

This is also the case in `bash` shell blocks.
```{r perlversion-in-bash, engine = "bash"}
which perl
```

By configuring `knitr`
```{r knitr-config}
knitr::opts_chunk$set(engine.path = list(perl = Sys.which("perl")[["perl"]]))
```

Perl code in `perl` blocks run the same interpreter.
```{r perl-code, engine = "perl"}
print "$^X\n";
```
